{"ast":null,"code":"var _jsxFileName = \"/workspace/golf-app-frontend/client/src/components/round/RoundSetup.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { Outlet, useNavigate } from \"react-router-dom\";\nimport \"./Round.css\";\nimport { API_URL } from \"../../services/auth.constants\";\nimport request from \"../../services/api.request\";\nimport { useGlobalState } from \"../../context/GlobalState\";\nimport NavBar from \"../NavBar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RoundSetup() {\n  _s();\n  let navigate = useNavigate();\n  const [courses, setCourses] = useState([]);\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [state] = useGlobalState();\n  useEffect(() => {\n    if (!state.currentUser) {\n      navigate(\"/login\");\n    }\n    const getCourses = async () => {\n      let config = {\n        url: \"/courses/\",\n        baseURL: API_URL,\n        method: \"get\"\n      };\n      let response = await axios.request(config);\n      setCourses(response.data);\n    };\n    getCourses();\n  }, []);\n  const handleCourseClick = course => {\n    setSelectedCourse(course);\n  };\n  const handleSearchChange = event => {\n    setSearchValue(event.target.value);\n  };\n\n  // POST new Round to database and then, save the round ID to state.\n  const newRound = async (course, round_length, total_score) => {\n    let config = {\n      url: `/rounds/`,\n      method: \"post\",\n      data: {\n        course,\n        round_length,\n        total_score\n      }\n    };\n    let response = await request(config);\n    navigate(`/round/${response.data.id}/${response.data.course}`);\n    // setCurrentRound(response.data);\n    // currentRoundRef.current = response.data;\n  };\n\n  const filteredCourses = courses.filter(course => course.name.toLowerCase().includes(searchValue.toLowerCase()));\n\n  // const [currentRound, setCurrentRound] = useState(null);\n  // const currentRoundRef = useRef(null);\n\n  // useEffect(() => {\n  //   if (currentRoundRef.current) {\n  //     setCurrentRound(currentRoundRef.current);\n  //   }\n  // }, [currentRoundRef.current]);\n\n  // console.log(currentRound);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"background\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container d-flex justify-content-center vh-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col mt-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-column justify-content-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-center mb-4 text-light\",\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Select a Course\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search Courses\",\n              value: searchValue,\n              className: \"border-0 p-1\",\n              onChange: handleSearchChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"containter\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col names mb-5 d-flex flex-column justify-content-center\",\n                  children: filteredCourses.map(course => /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"px-3 py-2 sqr-btn2\",\n                    onClick: () => handleCourseClick(course.id),\n                    children: course.name\n                  }, course.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container d-flex justify-content-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => newRound(selectedCourse, 18, 0),\n                    className: \"m-1 p-3 sqr-btn1\",\n                    disabled: !selectedCourse,\n                    children: \"BEGIN ROUND\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s(RoundSetup, \"Tdbd8SQAFSrYcDLPouT1N1lGLbQ=\", false, function () {\n  return [useNavigate, useGlobalState];\n});\n_c = RoundSetup;\nexport default RoundSetup;\nvar _c;\n$RefreshReg$(_c, \"RoundSetup\");","map":{"version":3,"names":["React","useState","useEffect","axios","Outlet","useNavigate","API_URL","request","useGlobalState","NavBar","jsxDEV","_jsxDEV","RoundSetup","_s","navigate","courses","setCourses","selectedCourse","setSelectedCourse","searchValue","setSearchValue","state","currentUser","getCourses","config","url","baseURL","method","response","data","handleCourseClick","course","handleSearchChange","event","target","value","newRound","round_length","total_score","id","filteredCourses","filter","name","toLowerCase","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","map","onClick","disabled","_c","$RefreshReg$"],"sources":["/workspace/golf-app-frontend/client/src/components/round/RoundSetup.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { Outlet, useNavigate } from \"react-router-dom\";\nimport \"./Round.css\";\nimport { API_URL } from \"../../services/auth.constants\";\nimport request from \"../../services/api.request\";\nimport { useGlobalState } from \"../../context/GlobalState\";\nimport NavBar from \"../NavBar\";\n\nfunction RoundSetup() {\n  let navigate = useNavigate();\n  const [courses, setCourses] = useState([]);\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [state] = useGlobalState();\n\n  useEffect(() => {\n    if (!state.currentUser) {\n      navigate(\"/login\");\n    }\n\n    const getCourses = async () => {\n      let config = {\n        url: \"/courses/\",\n        baseURL: API_URL,\n        method: \"get\",\n      };\n      let response = await axios.request(config);\n      setCourses(response.data);\n    };\n\n    getCourses();\n  }, []);\n\n  const handleCourseClick = (course) => {\n    setSelectedCourse(course);\n  };\n\n  const handleSearchChange = (event) => {\n    setSearchValue(event.target.value);\n  };\n\n  // POST new Round to database and then, save the round ID to state.\n  const newRound = async (course, round_length, total_score) => {\n    let config = {\n      url: `/rounds/`,\n      method: \"post\",\n      data: {\n        course,\n        round_length,\n        total_score,\n      },\n    };\n    let response = await request(config);\n    navigate(`/round/${response.data.id}/${response.data.course}`);\n    // setCurrentRound(response.data);\n    // currentRoundRef.current = response.data;\n  };\n\n  const filteredCourses = courses.filter((course) =>\n    course.name.toLowerCase().includes(searchValue.toLowerCase())\n  );\n\n  // const [currentRound, setCurrentRound] = useState(null);\n  // const currentRoundRef = useRef(null);\n\n  // useEffect(() => {\n  //   if (currentRoundRef.current) {\n  //     setCurrentRound(currentRoundRef.current);\n  //   }\n  // }, [currentRoundRef.current]);\n\n  // console.log(currentRound);\n\n  return (\n\n    <div className=\"background\">\n      <NavBar />\n      <Outlet />\n      <div className=\"container d-flex justify-content-center vh-100\">\n        <div className=\"row\">\n          <div className=\"col mt-5\">\n            <div className=\"d-flex flex-column justify-content-center\">\n              <div className=\"d-flex justify-content-center mb-4 text-light\">\n                <h1>Select a Course</h1>\n              </div>\n              <input\n                type=\"text\"\n                placeholder=\"Search Courses\"\n                value={searchValue}\n                className=\"border-0 p-1\"\n                onChange={handleSearchChange}\n              />\n              <div className=\"containter\">\n                <div className=\"row\">\n                  <div className=\"col names mb-5 d-flex flex-column justify-content-center\">\n                    {filteredCourses.map((course) => (\n                      <button\n                        className=\"px-3 py-2 sqr-btn2\"\n                        key={course.id}\n                        onClick={() => handleCourseClick(course.id)}\n                      >\n                        {course.name}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              </div>\n              <div className=\"container d-flex justify-content-center\">\n                <div className=\"row\">\n                  <div className=\"col\">\n                    <button\n                      onClick={() => newRound(selectedCourse, 18, 0)}\n                      className=\"m-1 p-3 sqr-btn1\"\n                      disabled={!selectedCourse}\n                    >\n                      BEGIN ROUND\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n  );\n}\n\nexport default RoundSetup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}