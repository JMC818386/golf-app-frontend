{"ast":null,"code":"import{Link}from\"react-router-dom\";import{useGlobalState}from\"../context/GlobalState\";import\"bootstrap/dist/css/bootstrap.css\";import\"./NavBar.css\";import{useNavigate}from'react-router-dom';import request from'../services/api.request';import AuthService from\"../services/auth.service\";import{useEffect,useState}from'react';import logo from'../img/PocketPro_LogoType.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function NavBar(){const[state,dispatch]=useGlobalState();const[,setData]=useState();let navigate=useNavigate();const handleLogout=e=>{e.preventDefault();AuthService.logout();navigate('/login');dispatch({currentUserToken:null,currentUser:null});};const getUser=async()=>{try{let options={url:\"users/\".concat(state.currentUser.user_id,\"/\"),method:'GET'};let response=await request(options);// console.log(response.data)\nsetData(response.data);}catch(error){if(state.currentUser===null){}else{console.log(error);}}};useEffect(()=>{getUser();// eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-bar\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/main\",children:/*#__PURE__*/_jsx(\"img\",{className:\"logo-type\",src:logo,style:{width:110},alt:\"Logo\"})})}),!state.currentUser&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"nav-text\",style:{textDecoration:\"none\"},to:\"/\",children:\"Login\"})}),!state.currentUser&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"nav-text\",style:{textDecoration:\"none\"},to:\"/register\",children:\"Register\"})}),state.currentUser&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"nav-text\",style:{textDecoration:\"none\"},to:\"/login\",onClick:handleLogout,children:\"Sign Out\"})})]})});}export default NavBar;","map":{"version":3,"names":["Link","useGlobalState","useNavigate","request","AuthService","useEffect","useState","logo","jsx","_jsx","jsxs","_jsxs","NavBar","state","dispatch","setData","navigate","handleLogout","e","preventDefault","logout","currentUserToken","currentUser","getUser","options","url","concat","user_id","method","response","data","error","console","log","children","className","to","src","style","width","alt","textDecoration","onClick"],"sources":["/workspace/golf-app-frontend/frontend/src/components/NavBar.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport { useGlobalState } from \"../context/GlobalState\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./NavBar.css\";\nimport { useNavigate } from 'react-router-dom';\nimport request from '../services/api.request';\nimport AuthService from \"../services/auth.service\";\nimport { useEffect, useState } from 'react';\nimport logo from '../img/PocketPro_LogoType.png';\n\nfunction NavBar() {\n  const [ state, dispatch ] = useGlobalState();\n  const [ , setData ] = useState();\n  let navigate = useNavigate();\n\n  const handleLogout = (e) => {\n    e.preventDefault();\n    AuthService.logout();\n    navigate('/login');\n    dispatch({\n        currentUserToken: null,\n        currentUser: null\n    })\n}\n\nconst getUser = async () => {\n  try {\n      let options = {\n          url: `users/${state.currentUser.user_id}/`,\n          method: 'GET',\n      }\n      let response = await request(options)\n      // console.log(response.data)\n      setData(response.data)\n  }\n  catch (error) {\n      if (state.currentUser === null) {\n      } else {\n          console.log(error)\n      }\n  }\n}\n\nuseEffect(() => {\n  getUser()\n  // eslint-disable-next-line\n}, [])\n\n  return (\n    <nav>\n      <ul className=\"nav-bar\">\n        <li>\n          <Link to=\"/main\">\n            <img className=\"logo-type\" src={logo} style={{ width: 110 }} alt=\"Logo\" />\n          </Link>\n        </li>\n        {/* <li>\n          <Link className=\"nav-text\" style={{ textDecoration: \"none\"}} to=\"/main\">Home</Link>\n        </li> */}\n        {\n          !state.currentUser && (\n            <li>\n              <Link className=\"nav-text\" style={{ textDecoration: \"none\"}} to=\"/\">Login</Link>\n            </li>\n          )\n        }\n        {\n          !state.currentUser && (\n            <li>\n              <Link className=\"nav-text\" style={{ textDecoration: \"none\"}} to=\"/register\">Register</Link>\n            </li>\n          )\n        }\n        {/* {\n          state.currentUser && (\n            <li>\n              <Link className=\"nav-text\" style={{ textDecoration: \"none\"}} to=\"/profile\">Profile</Link>\n            </li>\n          )\n        } */}\n        {\n          state.currentUser && (\n            <li>\n              <Link className=\"nav-text\" style={{ textDecoration: \"none\"}} to=\"/login\"onClick={handleLogout}>Sign Out</Link>\n            </li>\n          )\n        }\n      </ul>\n    </nav>\n  );\n}\n\nexport default NavBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}