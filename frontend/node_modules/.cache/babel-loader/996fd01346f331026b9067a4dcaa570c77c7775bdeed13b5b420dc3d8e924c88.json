{"ast":null,"code":"import React,{useState}from\"react\";import AuthService from\"../../services/auth.service\";import{useNavigate}from\"react-router-dom\";import{useGlobalState}from\"../../context/GlobalState\";import jwtDecode from\"jwt-decode\";import\"bootstrap/dist/css/bootstrap.css\";import\"./User.css\";import{Link,Outlet}from\"react-router-dom\";import logo from\"../../img/PocketPro_LogoMark.png\";import NavBar from\"../NavBar\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{let navigate=useNavigate();const[state,dispatch]=useGlobalState();const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const handleLogin=e=>{e.preventDefault();AuthService.login(username,password).then(async resp=>{if(resp&&resp.access){let data=jwtDecode(resp.access);await dispatch({currentUserToken:resp.access,currentUser:data});navigate(\"/main\");}else{// Login failed\nalert(\"Login failed. Please check your credentials.\");}}).catch(error=>{console.error(\"Login error:\",error);alert(\"Login failed. Please check your credentials.\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(Outlet,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col mt-5\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:logo,alt:\"Logo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"c-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"p\",{className:\"d-flex justify-content-center p-2 mb-1 s-text\",children:\"Username\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",className:\"rounded border-0\",onChange:e=>setUsername(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"p\",{className:\"d-flex justify-content-center p-2 mb-1 mt-4 s-text\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pass\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"pass\",name:\"password\",className:\"rounded border-0\",minLength:\"8\",required:true,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center flex-column m-4\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"sqr-btn1 py-2 px-3 mb-3 rounded\",type:\"submit\",value:\"SIGN IN\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:/*#__PURE__*/_jsx(\"button\",{className:\"p-2 sqr-btn2 rounded\",children:\"CREATE ACCOUNT\"})})]})})]})})]})})})]});};export default Login;/* \n#314035 Dark Green\n#698C75 Light Green\n#46594B Mid Green\n#F2EFDF Off White\n#F2A74B Orange \n*/","map":{"version":3,"names":["React","useState","AuthService","useNavigate","useGlobalState","jwtDecode","Link","Outlet","logo","NavBar","jsx","_jsx","jsxs","_jsxs","Login","navigate","state","dispatch","username","setUsername","password","setPassword","handleLogin","e","preventDefault","login","then","resp","access","data","currentUserToken","currentUser","alert","catch","error","console","className","children","src","alt","onSubmit","htmlFor","type","id","name","onChange","target","value","required","minLength","to"],"sources":["/workspace/golf-app-frontend/frontend/src/components/user/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport AuthService from \"../../services/auth.service\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useGlobalState } from \"../../context/GlobalState\";\nimport jwtDecode from \"jwt-decode\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./User.css\";\nimport { Link, Outlet } from \"react-router-dom\";\nimport logo from \"../../img/PocketPro_LogoMark.png\";\nimport NavBar from \"../NavBar\";\n\nconst Login = () => {\n  let navigate = useNavigate();\n\n  const [state, dispatch] = useGlobalState();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n\n    AuthService.login(username, password).then(async (resp) => {\n      if (resp && resp.access) {\n        let data = jwtDecode(resp.access);\n        await dispatch({\n          currentUserToken: resp.access,\n          currentUser: data,\n        });\n        navigate(\"/main\");\n      } else {\n        // Login failed\n        alert(\"Login failed. Please check your credentials.\");\n      }\n    }).catch((error) => {\n      console.error(\"Login error:\", error);\n      alert(\"Login failed. Please check your credentials.\");\n    });\n  };\n\n  return (\n    <div className=\"background\">\n      <NavBar />\n      <Outlet />\n      <div className=\"container d-flex justify-content-center\">\n        <div className=\"row mt-5\">\n          <div className=\"col mt-5\">\n            <img className=\"logo\" src={logo} alt=\"Logo\" />\n            <div className=\"c-form\">\n              <form onSubmit={handleLogin}>\n                <p className=\"d-flex justify-content-center p-2 mb-1 s-text\">\n                  Username\n                </p>\n                <div className=\"d-flex justify-content-center\">\n                  <label htmlFor=\"username\"></label>\n                  <input\n                    type=\"text\"\n                    id=\"username\"\n                    name=\"username\"\n                    className=\"rounded border-0\"\n                    onChange={(e) => setUsername(e.target.value)}\n                    required\n                  />\n                </div>\n                <p className=\"d-flex justify-content-center p-2 mb-1 mt-4 s-text\">\n                  Password\n                </p>\n                <div className=\"d-flex justify-content-center\">\n                  <label htmlFor=\"pass\"></label>\n                  <input\n                    type=\"password\"\n                    id=\"pass\"\n                    name=\"password\"\n                    className=\"rounded border-0\"\n                    minLength=\"8\"\n                    required\n                    onChange={(e) => setPassword(e.target.value)}\n                  />\n                </div>\n                <div className=\"d-flex justify-content-center\">\n                  <div className=\"d-flex justify-content-center flex-column m-4\">\n                    <input\n                      className=\"sqr-btn1 py-2 px-3 mb-3 rounded\"\n                      type=\"submit\"\n                      value=\"SIGN IN\"\n                    />\n                    <Link to=\"/register\">\n                      <button className=\"p-2 sqr-btn2 rounded\">\n                        CREATE ACCOUNT\n                      </button>\n                    </Link>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n\n/* \n#314035 Dark Green\n#698C75 Light Green\n#46594B Mid Green\n#F2EFDF Off White\n#F2A74B Orange \n*/\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}